## 目录
```
### 第3 章 Laravel 框架中常用的PHP 语法… …………………………………… 39
#### 3.1 组件化开发语法条件… ………………………………………………………… 39
* 3.1.1 命名空间 …………………………………………………………………………… 39
* 3.1.2 文件包含 …………………………………………………………………………… 43
#### 3.2 匿名函数… ……………………………………………………………………… 48
* 3.2.1 匿名函数的使用 …………………………………………………………………… 49
* 3.2.2 Laravel 框架中的应用 ……………………………………………………………… 49
#### 3.3 PHP 中的特殊语法… …………………………………………………………… 50
* 3.3.1 魔术方法 …………………………………………………………………………… 50
* 3.3.2 魔术常量 …………………………………………………………………………… 53
#### 3.4 反射… …………………………………………………………………………… 55
#### 3.5 后期静态绑定… ………………………………………………………………… 58
#### 3.6 Laravel 中使用的其他新特性…………………………………………………… 60
* 3.6.1 trait ………………………………………………………………………………… 60
* 3.6.2 简化的三元运算符 ………………………………………………………………… 63
```

## 第3 章 Laravel 框架中常用的PHP 语法… …………………………………… 39
* laravel 框架中使用了大量PHP新语法: 命名空间 匿名函数 反射机制 后期静态绑定

### 3.1 组件化开发语法条件… ………………………………………………………… 39
#### 3.1.1 命名空间 …………………………………………………………………………… 39
* `namespace` 关键字定义命名空间

* `__NAMESPACE__` 魔术常量获取当前命名空间

* `\` 表示全局命名空间

* 命名空间的使用:
    1. 非限定名称或不包含前缀的类名称;
    2. 限定名称或包含前缀的名称;
    3. 完全限定名称或包含了全局前缀操作的名称.

* `use` || `use as`

#### 3.1.2 文件包含 …………………………………………………………………………… 43
* `include` 和 `require` 关键字

* PHP 配置项 `include_path`

* 类的自动载入: `spl_autoload_register()`

* laravel 中的实现方案:
    * public\index.php
    * bootstrap\autoload.php
    * vendor\autoload.php
    * vendor\composer\autoload_real.php
    * vendor\composer\ClassLoader.php
    * Illuminate\Foundation\AliasLoader.php
    

### 3.2 匿名函数… ……………………………………………………………………… 48
* 匿名函数也叫闭包函数

#### 3.2.1 匿名函数的使用 …………………………………………………………………… 49
* 匿名函数的存在既可以作用参数传给函数, 也可以作为变量赋值

* 匿名函数的另一个作用是可以从父作用域中继承变量, 即匿名函数在定义的时候如果需要使用作用域外的变量, 可以使用 use 关键字来继承作用域外的变量

#### 3.2.2 Laravel 框架中的应用 ……………………………………………………………… 49
* 在服务提供者这测过程中, 通过将服务名称与提供服务的匿名函数进行绑定, 在使用时可以实现动态服务解析
    * 例如: Illuminate\Routing\ControllerServiceProvider.php

### 3.3 PHP 中的特殊语法… …………………………………………………………… 50
* 魔术方法 和 魔术常量

#### 3.3.1 魔术方法 …………………………………………………………………………… 50
* 通常以 `__` 开头:
    * `__construct()`: 构造函数, 每次实例化对象时调用, 适合做在使用对象之前做一些初始化工作

    * `__destruct()`: 析构函数会在对象的所有引用都被删除或者对象被显式销毁时执行

    * `__set()`: 属性重载, 在给不可访问的属性赋值时会被调用

    * `__get()`: 读取不可访问属性时会被调用

    * `__isset()`: 对不可访问属性调用 `isset()` 或 `empty()` 时会被调用

    * `__unset()`: 对不可访问属性调用 `unset()` 时会被调用

    * `__sleep()`: `serialize()` 检查类当中是否有魔术方法 `__sleep()`. 若有, 该函数将需求话之前运行

    * `__wakeup()`: `unserialize()` 检查类当中是否有魔术方法 `__wakeup()`. 若有, 该函数将需求话之前运行, 此函数可以用于重建对象

    * `__toString()`: 当一个类被当作字符串访问时调用, 例如 `echo $obj`

    * `__invoke()`: 当一个类被当作函数使用时调用, 例如 `$obj;`

    * `__clone()`: 复制对象时调用

    * `__call()`: 调用一个不可访问的方法时被调用

    * `__callStatic()`: 以静态方式调用一个不可访问方法时被调用

    * `__autoload()`: 试图使用尚未被定义的类时自动调用

* 在 laravel 中使用魔术方法的案例:
    * Illuminate\Database\Eloquent\Model.php

#### 3.3.2 魔术常量 …………………………………………………………………………… 53
* 很多常量都是由不同的扩展库定义的, 只有在加载了这些扩展库时才会出现

* PHP 在运行环境中 提供了八个魔术常量 (但是他们的值是随着代码中 的位置改变而变化的)
    * `__LINE__`: 当前行

    * `__FILE__`: 文件完整路径和文件名 (绝对路径)

    * `__DIR__`: 文件所在的目录. 等价于 `dirname(__FILE__)`, 除非是根目录, 否则目录中不包含末尾的斜杠

    * `__FUNCTION__`: 函数名称

    * `__CLASS__`: 类的名称, 包含其被声明的命名空间. php5.4起对 `trait` 也其作用

    * `__TRAIT__`: trait 的名称, 包含其被声明的命名空间

    * `__METHOD__`: 类的方法名

    * `__NAMESPACE__`: 命名空间的名称


### 3.4 反射… …………………………………………………………………………… 55
### 3.5 后期静态绑定… ………………………………………………………………… 58
### 3.6 Laravel 中使用的其他新特性…………………………………………………… 60
#### 3.6.1 trait ………………………………………………………………………………… 60

#### 3.6.2 简化的三元运算符 ………………………………………………………………… 63
