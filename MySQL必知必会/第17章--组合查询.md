## 目录
```
### 第17章 组合查询 ..................... 113
#### 17.1 组合查询........................... 113
#### 17.2 创建组合查询................... 113
* 17.2.1 使用UNION ......... 114
* 17.2.2 UNION规则 ......... 115
* 17.2.3 包含或取消重复的行.................... 116
* 17.2.4 对组合查询结果排序.................... 117
#### 17.3 小结................................... 118
```


## 第17章 组合查询 ..................... 113
* 何利用UNION操作符将多条SELECT语句组合成一个结果集

### 17.1 组合查询........................... 113
* 多数SQL查询都只包含从一个或多个表中返回数据的单条SELECT语句

* MySQL 也允许执行多个查询（多条 SELECT 语句），并将结果作为单个查询结果集返回。这些组合查询通常称为 **并（union）** 或 **复合查询（compound query）**

* 有两种基本情况，其中需要使用组合查询：
    * 在单个查询中从不同的表返回类似结构的数据；
    * 对单个表执行多个查询，按单个查询返回数据。


### 17.2 创建组合查询................... 113
* 用 `UNION` 操作符来组合数条 SQL 查询

#### 17.2.1 使用UNION ......... 114
* eg:
```
SELECT vend_id, prod_id, prod_price
FROM products
WHERE prod_price <= 5
UNIOIN
SELECT vend_id, prod_id, prod_price
FROM products
WHERE vend_id IN (1001, 1002)
```

* UNION 指示 MySQL 执行两条 SELECT 语句，并把输出组合成单个查询结果集

#### 17.2.2 UNION规则 ......... 115
* UNION 必须由两条或两条以上的 SELECT 语句组成，语句之间用关键字 UNION 分隔

* UNION 中的每个查询必须包含相同的列、表达式或聚集函数

* 列数据类型必须兼容：类型不必完全相同，但必须是 DBMS 可以隐含地转换的类型


#### 17.2.3 包含或取消重复的行.................... 116
* 在使用 UNION 时，重复的行被自动取消

* 如果想返回所有匹配行，可使用 **UNION ALL**

* UNION 与 WHERE:
    * UNION 几乎总是完成与多个 WHERE 条件相同的工作

    * UNION ALL 为 UNION 的一种形式，它完成 WHERE 子句完成不了的工作 (重复行)
    
#### 17.2.4 对组合查询结果排序.................... 11
* 用 `UNION` 组合查询时，只能使用一条 `ORDER BY` 子句，它 *必须* 出现在最后一条 `SELECT` 语句之后

### 17.3 小结................................... 118