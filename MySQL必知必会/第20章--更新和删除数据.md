## 目录
```
### 第20章 更新和删除数据 ........ 139
#### 20.1 更新数据........................... 139
#### 20.2 删除数据........................... 141
#### 20.3 更新和删除的指导原则..... 142
#### 20.4 小结 .................................. 143
```


## 第20章 更新和删除数据 ........ 139

### 20.1 更新数据........................... 139
* 使用 UPDATE：
    * 更新表中特定行；
    * 更新表中所有行。

* **不要省略 WHERE 子句**, 因为这是危险操作

* eg: `UPDATE table SET xx=xx, xx=xx WHERE ...`;

* **在 UPDATE 语句中使用子查询**
    * UPDATE 语句中可以 *使用子查询* ，使得能用 SELECT 语句检索出的数据更新列数据

* **IGNORE 关键字**
    * 如果用 UPDATE 语句更新多行，并且在更新这些行中的一行或多行时出一个现错误，则整个 UPDATE 操作被取消（错误发生前更新的所有行被恢复到它们原来的值）;

    * 为即使是发生错误，也继续进行更新，可使用 IGNORE 关键字，如下所示：`UPDATE IGNORE customers…`


### 20.2 删除数据........................... 141
* 两种方式使用 DELETE:
    * 从表中删除特定的行；
    * 从表中删除所有行。

* **不要省略WHERE子句**

* DELETE 语句从表中删除行，甚至是删除表中所有行

* **更快的删除**: 
    * 可使用 `TRUNCATE TABLE` 语句删除表中所有行

### 20.3 更新和删除的指导原则..... 142
* 除非确实打算更新和删除每一行，否则 **绝对不要使用不带 WHERE 子句的 UPDATE 或DELETE 语句**

* 保证每个表都有主键（如果忘记这个内容，请参阅第15章），尽可能像WHERE子句那样使用它（可以指定各主键、多个值或值的范围）

* 在对 UPDATE 或 DELETE 语句使用 WHERE 子句前，应该 **先用 SELECT 进行测试**，保证它过滤的是正确的记录，以防编写的 WHERE 子句不正确

* *小心使用* MySQL没有撤销（undo）按钮

### 20.4 小结 .................................. 143